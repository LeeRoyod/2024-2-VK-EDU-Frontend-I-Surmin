# 2024-2-VK-EDU-Frontend-I-Surmin
Репозиторий курса VK Education: Frontend-Development Fullstack / 2

## О репозитории

Этот репозиторий создан в рамках курса **Frontend-разработка: fullstack / 2** от **VK Education**. Он охватывает различные аспекты разработки клиентской части приложения, включая работу с **React**, **Redux**, обработку и загрузку файлов, интеграцию с сервером и организацию реального времени через **Centrifugo**. 

---

## Проект "React Chat"

### Описание

В папке `react-chat` разработан онлайн мессенджер, который реализует следующие ключевые функции и возможности:

1. **Аутентификация и регистрация:**
   - Авторизация по логину и паролю.
   - Регистрация с возможностью загрузки аватара.
   - Реализация рефреш-токена для автоматического продления сессии.

2. **Управление профилем пользователя:**
   - Просмотр и редактирование данных (логин, имя, фамилия, биография).
   - Смена пароля.
   - Загрузка и изменение аватара.

3. **Работа с чатами:**
   - Получение списка доступных чатов.
   - Создание как приватных чатов (1:1), так и групповых (с несколькими участниками).
   - Удаление чатов (с проверкой прав создателя).

4. **Обмен сообщениями:**
   - Текстовые сообщения.
   - Вложения (изображения) с предпросмотром (LazyLoadImage).
   - Голосовые сообщения (MediaRecorder и отправка аудиофайлов).
   - Отправка геолокации пользователя (ссылкой на карту).
   - Поддержка статуса прочитанности сообщений (отображение «галочек»).
   - Возможность редактировать и удалять собственные сообщения.

5. **Обновление в реальном времени (Centrifugo):**
   - Подключение к каналу через WebSocket (Centrifuge).
   - Получение новых сообщений в режиме реального времени.
   - Обновление статусов прочитанности.
   - Отображение статуса «печатает...».

6. **UI/UX-особенности:**
   - Индикация «печатает...» (TypingIndicator).
   - LazyLoad для аватарок (LazyLoadAvatar) и изображений (LazyLoadImage) во избежание лишних загрузок.
   - Звуковые уведомления при получении новых сообщений (в фоне) и всплывающие браузерные уведомления (если разрешены).
   - Плавная анимация (hover, pulse, fadeIn и т.д.).
   - Адаптивная верстка под различные экраны.

7. **Дополнительные детали:**
   - Статус «online» для пользователей (обновляется через API).
   - Прокси (setupProxy.js) для удобства разработки (перенаправление `/api` на удалённый сервер).
   - Логи для отладки в режиме `development` (utils/logger.js).

### Структура папки

Основные файлы и директории проекта:

- **`package.json`**  
  Описание зависимостей, скриптов сборки, конфигурация для деплоя на GitHub Pages и т.д.

- **`public/`**  
  Статические файлы, точка входа `index.html`.

- **`src/`**  
  - **`api/`**  
    - `index.ts` — класс-обёртка для API-запросов (login, register, refresh, чаты, сообщения, пользователи и т.д.).  
    - `centrifuge.js` — настройки подключения к Centrifugo (создание соединения, подписка на канал, обработка входящих сообщений).  
    - `types.ts` — TypeScript-типизация структур данных (пользователи, чаты, сообщения и т.п.).
  - **`assets/`**  
    - `notification.mp3` — звуковое уведомление при получении новых сообщений.
  - **`components/`**  
    - **`Chat/Chat.jsx`** — компонент экрана конкретного чата, включая ввод сообщений, прикрепление файлов, запись аудио и т.д.
    - **`ChatItem/ChatItem.jsx`** — отображение информации об отдельном чате в списке чатов.  
    - **`ChatList/ChatList.jsx`** — список всех доступных чатов, с возможностью поиска, создания нового чата, удаления чата и т.д.  
    - **`LazyLoadAvatar/LazyLoadAvatar.jsx`** и **`LazyLoadImage/LazyLoadImage.jsx`** — компоненты, которые «лениво» загружают аватарки и изображения.
    - **`Login/Login.jsx`** — страница авторизации пользователя.  
    - **`Register/Register.jsx`** — страница регистрации нового пользователя.  
    - **`MessageItem/MessageItem.jsx`** и **`MessageList/MessageList.jsx`** — логика рендеринга каждого сообщения и списка сообщений в чате (текст, файлы, аудио, статус прочитанности и т.п.).
    - **`Profile/Profile.jsx`** — профиль пользователя (изменение данных, аватара, пароля).
    - **`TypingIndicator/TypingIndicator.jsx`** — анимированный индикатор, показывающий, что собеседник печатает.
    - Папки `.../module.scss` содержат стили для компонентов (SCSS-модули).
  - **`slices/`**  
    - `authSlice.js` — Redux-срез аутентификации (хранит токены, текущего пользователя, логику логина/логаута и т.д.).
    - `chatsSlice.js` — Redux-срез для управления списком чатов и текущим активным чатом.
  - **`utils/`**  
    - `logger.js` — утилита для логирования в режиме разработки.
  - **`App.jsx`** — корневой компонент приложения, в котором определяется система маршрутов (React Router): список чатов, экран чата, профиль, логин, регистрация и т.д.
  - **`index.js`** — точка входа в React-приложение, рендер приложения в DOM.  
  - **`index.scss`** — глобальные стили (reset, переменные, общие анимации).
  - **`setupProxy.js`** — файл для настройки http-proxy-middleware (прокси запросов с `/api` на удалённый сервер).
  - **`store.js`** — конфигурация Redux Store, объединяющая `authSlice` и `chatsSlice`.

### Деплой проекта

Проект опубликован с использованием **GitHub Pages** и доступен по ссылке:
[React Chat на GitHub Pages](https://leeroyod.github.io/2024-2-VK-EDU-Frontend-I-Surmin/)

Для локального запуска:
```bash
cd react-chat
npm install
npm start
```
Откройте http://localhost:3000, чтобы увидеть приложение в браузере.

---
## Финальный экзамен
В папке **exam** содержится финальное задание курса. Этот проект представляет собой итоговую работу, демонстрирующую навыки и знания, полученные за время обучения.
